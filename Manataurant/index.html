<!DOCTYPE html>
<html ng-app="Project">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Tizen Mobile Web Basic Template"/>
    <title>Tizen Mobile Web Basic Application</title>
    <link rel="stylesheet" href="./lib/tau/mobile/theme/default/tau.css">
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <script src="js/angular.min.js"></script>
    <script src="js/jquery.js"></script>
    <script src="./lib/tau/mobile/js/tau.js" data-build-remove="false"></script>
    <script type="text/javascript"
            src="https://openapi.map.naver.com/openapi/v3/maps.js?clientId=a1RZIb1p59TLbq3iu_un"></script>
</head>
<body>
<div class="ui-page" id="main" ng-controller="DefaultCtrl">
    <div class="ui-tabs">
        <div class="ui-tabbar">
            <ul>
                <li class="ui-li-anchor" data-inline="true"
                    style="background: rgb(255, 238, 88); border-right: 2px solid black"><a
                        href="#" class="ui-tab-active" data-inline="true"
                        style="color: rgb(121, 85, 72);">예약</a></li>
                <li class="ui-li-anchor" data-inline="true"
                    style="background: rgb(255, 238, 88); border-right: 2px solid black"><a
                        href="#" data-inline="true" style="color: rgb(121, 85, 72)">사람</a></li>
                <li class="ui-li-anchor" data-inline="true"
                    style="background: rgb(255, 238, 88); border-right: 2px solid black"><a
                        href="#" data-inline="true" style="color: rgb(121, 85, 72)">추가</a></li>
                <li class="ui-li-anchor" data-inline="true"
                    style="background: rgb(255, 238, 88); border-right: 2px solid black"><a
                        href="#" data-inline="true" style="color: rgb(121, 85, 72)">정보</a></li>
            </ul>
        </div>
        <div class="ui-section-changer" id="sectionChanger">
            <div>
                <section class="ui-section-active" style="background: rgb(255, 253, 231);">
                    <div ng-hide="isMain">
                        <!-- isBlockedMember가 true값을 가지면 해당 <div>태그는 보이지 않습니다.-->
                        <div>
                            <h2>아직 추가된 예약이 없습니다<br/>예약을 추가해 주세요</h2>
                        </div>
                    </div>
                    <ul class="ui-listview" ng-repeat="reserve in reserveList" style="margin-bottom: 15px;"
                        ng-click="selectMain($index)">
                        <li class="ui-li-anchor"
                            style="width: 50%; height: 70px;border: 3px solid palegoldenrod; margin: 0 auto; text-align:center; background-color: white;">
                            <a href="#main_popup"
                               data-inline="true" data-rel="popup"
                               data-position-to="window">{{reserve['date']}}<br>예약</a>
                        </li>
                    </ul>
                    </ul>
                </section>
                <section style="background: rgb(255, 253, 231);">
                    <div ng-hide="isPerson">
                        <!-- isBlockedMember가 true값을 가지면 해당 <div>태그는 보이지 않습니다.-->
                        <div>
                            <h2>아직 추가된 예약이 없습니다<br/>예약을 추가해 주세요</h2>
                        </div>
                    </div>
                    <ul class="ui-listview" id="person-listview"
                        ng-repeat="data in subscriberData" ng-click="changePage(data)">
                        <li class="ui-li-anchor">
                            <a href="#listview_popup" data-inline="true" data-rel="popup"
                               data-position-to="window">{{data['name']}}</a>
                        </li>
                    </ul>
                    </ul>
                </section>
                <section style="background: rgb(255, 253, 231);">
                    이름 : <input type="text" data-inline="true" ng-model="addName" placeholder="이름을 입력해주세요"/>
                    단체명 : <input type="text" data-inline="true" ng-model="addGroup" placeholder="단체명을 입력해주세요"/>
                    전화번호 : <input type="text" data-inline="true" ng-model="addPhone" placeholder="전화번호를 입력해주세요"/>
                    날짜 : <input type="text" data-inline="true" ng-model="addDate" placeholder="날짜를 입력해주세요"/>

                    <button data-inline="true"><a
                            href="#year_popup" style="text-decoration:none; color: black"
                            data-inline="true" data-rel="popup">년도 선택
                    </a></button>

                    <button data-inline="true"><a
                            href="#month_popup" style="text-decoration:none; color: black"
                            data-inline="true" data-rel="popup">달 선택
                    </a></button>

                    <button data-inline="true"><a
                            href="#day_popup" style="text-decoration:none; color: black"
                            data-inline="true" data-rel="popup">일 선택
                    </a></button>
                    <br/>
                    인원 수 : <input type="text" data-inline="true" ng-model="addNum" placeholder="인원 수를 입력해주세요"/>
                    시간 : <input type="text" data-inline="true" ng-model="addTime" placeholder="시간을 입력해주세요"/>

                    <button data-inline="true"><a
                            href="#hour_popup" style="text-decoration:none; color: black"
                            data-inline="true" data-rel="popup">시 선택
                    </a></button>

                    <button data-inline="true"><a
                            href="#min_popup" style="text-decoration:none; color: black"
                            data-inline="true" data-rel="popup">분 선택
                    </a></button>

                    <div id="year_popup"
                         class="horizontal-ctxpopup ui-popup" data-overlay="false">
                        <ul class="ui-listview">
                            <li class="ui-li-anchor" ng-repeat="yearY in [2016, 2017, 2018, 2019, 2020]"
                                ng-click="setDateValue(yearY, 1)">
                                <a href="#" data-rel="back">{{yearY}}</a>
                            </li>
                        </ul>
                    </div>

                    <div id="month_popup"
                         class="horizontal-ctxpopup ui-popup" data-overlay="false">
                        <ul class="ui-listview">
                            <li class="ui-li-anchor" ng-repeat="monthM in [1,2,3,4,5,6,7,8,9,10,11,12]"
                                ng-click="setDateValue(monthM, 2)">
                                <a href="#" data-rel="back">{{monthM}}</a>
                            </li>
                        </ul>
                    </div>

                    <div id="day_popup"
                         class="horizontal-ctxpopup ui-popup" data-overlay="false">
                        <ul class="ui-listview">
                            <li class="ui-li-anchor"
                                ng-repeat="dayD in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31]"
                                ng-click="setDateValue(dayD, 3)">
                                <a href="#" data-rel="back">{{dayD}}</a>
                            </li>
                        </ul>
                    </div>

                    <div id="hour_popup"
                         class="horizontal-ctxpopup ui-popup" data-overlay="false">
                        <ul class="ui-listview">
                            <li class="ui-li-anchor"
                                ng-repeat="hourH in [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24]"
                                ng-click="setTimeValue(hourH, 1)">
                                <a href="#" data-rel="back">{{hourH}}</a>
                            </li>
                        </ul>
                    </div>

                    <div id="min_popup"
                         class="horizontal-ctxpopup ui-popup" data-overlay="false">
                        <ul class="ui-listview">
                            <li class="ui-li-anchor"
                                ng-repeat="minM in [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59]"
                                ng-click="setTimeValue(minM, 2)">
                                <a href="#" data-rel="back">{{minM}}</a>
                            </li>
                        </ul>
                    </div>
                    <br/><br/><br/><br/>
                    <button ng-click="addReserve()" style="background-color: #fffd05; color: black">추가하기</button>
                </section>
                <section style="background: rgb(255, 253, 231);">
                    <h2 style="text-align:center;">음식점 이름</h2>
                    <div style="text-align:center;"><span style="border:10px gold solid; padding: 2px;"><b>{{myData['name']}}</b></span>
                    </div>
                    <h2 style="text-align:center;">전화번호</h2>
                    <div style="text-align: center"><span style="border:10px gold solid; padding: 2px;"><b>{{myData['store_phone']}}</b></span>
                    </div>
                    <h2 style="text-align:center;">영업시간</h2>
                    <div style="text-align: center"> <span style="border:10px gold solid; padding: 2px;"><b>{{myData['startTime']}}부터
								{{myData['endTime']}}까지</b></span></div>
                    <br/><br/>
                    <h2 style="text-align:center;">위치</h2><img
                        ng-src="https://openapi.naver.com/v1/map/staticmap.bin?clientId=a1RZIb1p59TLbq3iu_un&url=localhost&crs=EPSG:4326&center={{myData['location']}}&level=13&w=340&h=450&baselayer=default&markers={{myData['location']}}"
                        style="width: 80%; height: 60%; margin-left:auto; margin-right: auto; display: block; border: 10px gold solid"/>
                    <br/><br/><br/>
                </section>
            </div>
        </div>
    </div>
    <div class="ui-page-indicator" id="pageIndicator"
         data-number-of-pages="4" style="bottom: 0;"></div>
    <script>
        var sectionChanger = document.getElementById("sectionChanger");
        var elPageIndicator = document.getElementById("pageIndicator");
        var pageIndicator;
        pageIndicator = tau.widget.PageIndicator(elPageIndicator);
        pageIndicator.setActive(0);
        sectionChanger.addEventListener("sectionchange", function (e) {
            pageIndicator.setActive(e.detail.active);

        }, false);
    </script>
    <div id="listview_popup" class="ui-popup ui-popup-listview"
         style="position: absolute;">
        <div class="ui-popup-header" style="color: black;"><b></b></div>
        <div class="ui-popup-content" style="overflow: auto">
            <div ng-repeat="reserve in subscriberReserves" id="person-list"
                 ng-class="IsFiltered(document.Filtered)">
                <div style="background-color: white; border: 3px solid gold; margin-bottom: 5px">
                    <p>{{reserve['date']}}</p>
                    <p>인원 수 : {{reserve['number']}}</p>
                    <p>시간 : {{reserve['time']}}</p>
                    <p>전화번호 : {{reserve['subscriber_phone']}}</p>
                    <p>단체 명 : {{reserve['group']}}</p>
                </div>
            </div>
        </div>
        <div class="ui-popup-footer">
            <a class="ui-btn" data-rel="back" data-inline="true" style="background-color: #fffd05; color: black">닫기</a>
        </div>
    </div>
    <div id="main_popup" class="ui-popup ui-popup-listview"
         style="position: absolute;">
        <div class="ui-popup-header" style="color: black;"><b>예약 확인하기</b></div>
        <div class="ui-popup-content" style="overflow: auto">
            <div style="background-color: white; border: 3px solid gold; margin-bottom: 5px"
                 ng-repeat="reserve in mainData">
                <p>이름 : {{reserve['name']}}</p>
                <p>인원 수 : {{reserve['number']}}</p>
                <p>날짜 : {{reserve['date'].split('-')[1] + '-' + reserve['date'].split('-')[2]}}</p>
                <p>시간 : {{reserve['time']}}</p>
                <p>전화번호 : {{reserve['subscriber_phone']}}</p>
                <p>단체 명 : {{reserve['group']}}</p>
            </div>
        </div>
        <div class="ui-popup-footer">
            <a class="ui-btn" data-rel="back" data-inline="true" style="background-color: #fffd05; color: black">닫기</a>
        </div>
    </div>
    <div id="join_popup" class="ui-popup ui-popup-listview">
        <div class="ui-popup-header" style="color: black">Join Us</div>
        <div class="ui-popup-content">
            음식점 이름 : <input type="text" data-inline="true" ng-model="joinTitle" placeholder="음식점 이름을 입력해주세요"/>
            전화번호 : <input type="text" data-inline="true" ng-model="joinPhone" placeholder="전화번호를 입력해주세요"/>
            영업 시작 시간 : <input type="text" data-inline="true" ng-model="joinSTime" placeholder="엽업 시작 시간을 입력해주세요"/>
            영업 종료 시간 : <input type="text" data-inline="true" ng-model="joinETime" placeholder="영업 종료 시간을 입력해주세요"/>
            주소 : <input type="text" data-inline="true" ng-model="joinLocation" placeholder="주소를 입력해주세요"/>
        </div>
        <div class="ui-popup-footer">
            <a class="ui-btn" data-rel="back"
               style="background-color: #fffd05; color: black" data-inline="true" ng-click="joinTask()">가입하기</a>
        </div>
    </div>
    <div id="splash_popup" class="ui-popup ui-popup-listview" style="position: absolute;">
        <div class="ui-popup-content" style="background-color: rgba(255, 255, 00, 00);">
            <div style="align-content: center;">
                <img src="images/splash_pop.gif"
                     style="width:70%; margin-left: auto; margin-right: auto; display: block;">
            </div>
        </div>
    </div>
</div>
<script src="js/main.js"></script>
</body>
</html>
